<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- 
    navigator 객체
        브라우저의 정보를 제공하고 다양한 기능을 제공하는 자바스크립트 객체
    
    주요 속성
        navigator.appName: 브라우저의 이름
        navigator.appVersion: 브라우저의 버전
        navigator.userAgent: 브라우저의 사용자 에이전트 문자열
        navigator.platform: 브라우저가 실행되고 있는 운영체제
        navigator.onLine: 브라우저가 온라인 상태 여부
        navigator.geolocation: 위치 정보를 제공하는 객체
        navigator.mediaDevices: 사용자 미디어 장치(카메라, 마이크 등)에 접근하게 해주는 객체
-->
    <video autoplay id="videoElement"></video>
    <button id="startBtn" onclick="start()">카메라 실행</button>
    <script>
        const start = async () => {
            // 카메라 or 마이크의 데이터를 HW로부터 받아올 때 권한이 필요
            // 신뢰할 수 있는 사이트에서만 권한 접근 가능, 신뢰할 수 없는 경우 브라우저에서 차단
            // 신뢰 여부 : HTTPS냐 아니냐, 내 컴퓨터냐 아니냐
            const stream = await navigator.mediaDevices.getUserMedia({ video: true });
            document.getElementById("videoElement").srcObject = stream;
        }


        // 장치 목록을 가져와보기
        navigator.mediaDevices.enumerateDevices()
            .then((device) => console.log(device));

        //navigator.mediaDevices.getUserMedia({ video: true, audio: true }) // 비디오와 오디오 장치를 가져오는 코드
    </script>
</body>

</html>